(function framework7ComponentLoader(o,e){void 0===e&&(e=!0);var t=o.$,n=o.utils,a=o.getDevice,r=(o.getSupport,o.Class,o.Modal),l=(o.ConstructorMethods,o.ModalMethods),i=n.extend,s=n.iosPreloaderContent,d=n.mdPreloaderContent,c=n.auroraPreloaderContent;function u(o){this.wrapped=o}function p(o){var e,t;function n(e,t){try{var r=o[e](t),l=r.value,i=l instanceof u;Promise.resolve(i?l.wrapped:l).then((function(o){i?n("return"===e?"return":"next",o):a(r.done?"return":"normal",o)}),(function(o){n("throw",o)}))}catch(o){a("throw",o)}}function a(o,a){switch(o){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?n(e.key,e.arg):t=null}this._invoke=function(o,a){return new Promise((function(r,l){var i={key:o,arg:a,resolve:r,reject:l,next:null};t?t=t.next=i:(e=t=i,n(o,a))}))},"function"!=typeof o.return&&(this.return=void 0)}function f(){return(f=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o}).apply(this,arguments)}function g(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}"function"==typeof Symbol&&Symbol.asyncIterator&&(p.prototype[Symbol.asyncIterator]=function(){return this}),p.prototype.next=function(o){return this._invoke("next",o)},p.prototype.throw=function(o){return this._invoke("throw",o)},p.prototype.return=function(o){return this._invoke("return",o)};var v=function(o){var e,n;function r(e,n){var r,l=i({title:e.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},n);void 0===l.closeByBackdropClick&&(l.closeByBackdropClick=e.params.dialog.closeByBackdropClick),void 0===l.backdrop&&(l.backdrop=e.params.dialog.backdrop);var s,d,c,u=g(r=o.call(this,e,l)||this),p=a(),f=l.title,v=l.text,m=l.content,y=l.buttons,k=l.verticalButtons,h=l.cssClass,C=l.backdrop;if(u.params=l,u.params.el)s=t(u.params.el);else{var b=["dialog"];0===y.length&&b.push("dialog-no-buttons"),y.length>0&&b.push("dialog-buttons-"+y.length),k&&b.push("dialog-buttons-vertical"),h&&b.push(h);var w="";y.length>0&&(w=$jsx("div",{class:"dialog-buttons"},y.map((function(o){return $jsx("span",{class:"dialog-button"+(o.bold?" dialog-button-bold":"")+(o.color?" color-"+o.color:"")+(o.cssClass?" "+o.cssClass:"")},o.text)}))));var x=$jsx("div",{class:b.join(" ")},$jsx("div",{class:"dialog-inner"},f&&$jsx("div",{class:"dialog-title"},f),v&&$jsx("div",{class:"dialog-text"},v),m),w);s=t(x)}if(s&&s.length>0&&s[0].f7Modal)return s[0].f7Modal||g(r);if(0===s.length)return u.destroy()||g(r);function O(o){var e=t(this).index(),n=y[e];n.onClick&&n.onClick(u,o),u.params.onClick&&u.params.onClick(u,e),!1!==n.close&&u.close()}function P(o){var e=o.keyCode;y.forEach((function(t,n){t.keyCodes&&t.keyCodes.indexOf(e)>=0&&(document.activeElement&&document.activeElement.blur(),t.onClick&&t.onClick(u,o),u.params.onClick&&u.params.onClick(u,n),!1!==t.close&&u.close())}))}function B(o){var e=o.target;0===t(e).closest(u.el).length&&u.params.closeByBackdropClick&&u.backdropEl&&u.backdropEl===e&&u.close()}return C&&0===(d=e.$el.children(".dialog-backdrop")).length&&(d=t('<div class="dialog-backdrop"></div>'),e.$el.append(d)),y&&y.length>0&&(u.on("open",(function(){s.find(".dialog-button").each((function(o,e){y[e].keyCodes&&(c=!0),t(o).on("click",O)})),!c||p.ios||p.android||p.cordova||p.capacitor||t(document).on("keydown",P)})),u.on("close",(function(){s.find(".dialog-button").each((function(o){t(o).off("click",O)})),!c||p.ios||p.android||p.cordova||p.capacitor||t(document).off("keydown",P),c=!1}))),i(u,{app:e,$el:s,el:s[0],$backdropEl:d,backdropEl:d&&d[0],type:"dialog",setProgress:function(o,t){return e.progressbar.set(s.find(".progressbar"),o,t),u},setText:function(o){var e=s.find(".dialog-text");return 0===e.length&&(e=t('<div class="dialog-text"></div>'),void 0!==f?e.insertAfter(s.find(".dialog-title")):s.find(".dialog-inner").prepend(e)),e.html(o),u.params.text=o,u},setTitle:function(o){var e=s.find(".dialog-title");return 0===e.length&&(e=t('<div class="dialog-title"></div>'),s.find(".dialog-inner").prepend(e)),e.html(o),u.params.title=o,u}}),u.on("opened",(function(){u.params.closeByBackdropClick&&e.on("click",B)})),u.on("close",(function(){u.params.closeByBackdropClick&&e.off("click",B)})),s[0].f7Modal=u,u.params.destroyOnClose&&u.once("closed",(function(){setTimeout((function(){u.destroy()}),0)})),u||g(r)}return n=o,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(r),m={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",backdrop:!0,closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0,autoFocus:!0}},static:{Dialog:v},create:function(){var o=this;function e(){return o.params.dialog.title||o.name}var t=o.params.dialog.destroyPredefinedDialogs,n=o.params.dialog.keyboardActions,a=o.params.dialog.autoFocus?{on:{opened:function(o){o.$el.find("input").eq(0).focus()}}}:{};o.dialog=i(l({app:o,constructor:v,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];var i=r[0],s=r[1],d=r[2];return 2===r.length&&"function"==typeof r[1]&&(i=r[0],d=r[1],s=r[2]),new v(o,{title:void 0===s?e():s,text:i,buttons:[{text:o.params.dialog.buttonOk,bold:!0,onClick:d,keyCodes:n?[13,27]:null}],destroyOnClose:t}).open()},prompt:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var s=l[0],d=l[1],c=l[2],u=l[3],p=l[4];return"function"==typeof l[1]&&(s=l[0],c=l[1],u=l[2],p=l[3],d=l[4]),p=null==p?"":p,new v(o,f({title:void 0===d?e():d,text:s,content:'<div class="dialog-input-field input"><input type="text" class="dialog-input" value="'+p+'"></div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find(".dialog-input").val();0===e&&u&&u(t),1===e&&c&&c(t)},destroyOnClose:t},a)).open()},confirm:function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];var i=r[0],s=r[1],d=r[2],c=r[3];return"function"==typeof r[1]&&(i=r[0],d=r[1],c=r[2],s=r[3]),new v(o,{title:void 0===s?e():s,text:i,buttons:[{text:o.params.dialog.buttonCancel,onClick:c,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,onClick:d,keyCodes:n?[13]:null}],destroyOnClose:t}).open()},login:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var s=l[0],d=l[1],c=l[2],u=l[3];return"function"==typeof l[1]&&(s=l[0],c=l[1],u=l[2],d=l[3]),new v(o,f({title:void 0===d?e():d,text:s,content:'\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="text" name="dialog-username" placeholder="'+o.params.dialog.usernamePlaceholder+'" class="dialog-input">\n              </div>\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="password" name="dialog-password" placeholder="'+o.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find('[name="dialog-username"]').val(),n=o.$el.find('[name="dialog-password"]').val();0===e&&u&&u(t,n),1===e&&c&&c(t,n)},destroyOnClose:t},a)).open()},password:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var s=l[0],d=l[1],c=l[2],u=l[3];return"function"==typeof l[1]&&(s=l[0],c=l[1],u=l[2],d=l[3]),new v(o,f({title:void 0===d?e():d,text:s,content:'\n              <div class="dialog-input-field input">\n                <input type="password" name="dialog-password" placeholder="'+o.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:o.params.dialog.buttonCancel,keyCodes:n?[27]:null,color:"aurora"===o.theme?"gray":null},{text:o.params.dialog.buttonOk,bold:!0,keyCodes:n?[13]:null}],onClick:function(o,e){var t=o.$el.find('[name="dialog-password"]').val();0===e&&u&&u(t),1===e&&c&&c(t)},destroyOnClose:t},a)).open()},preloader:function(e,n){var a={iosPreloaderContent:s,mdPreloaderContent:d,auroraPreloaderContent:c}[o.theme+"PreloaderContent"]||"";return new v(o,{title:null==e?o.params.dialog.preloaderTitle:e,content:'<div class="preloader'+(n?" color-"+n:"")+'">'+a+"</div>",cssClass:"dialog-preloader",destroyOnClose:t}).open()},progress:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=n[0],l=n[1],i=n[2];2===n.length?"number"==typeof n[0]?(l=n[0],i=n[1],r=n[2]):"string"==typeof n[0]&&"string"==typeof n[1]&&(r=n[0],i=n[1],l=n[2]):1===n.length&&"number"==typeof n[0]&&(l=n[0],r=n[1],i=n[2]);var s=void 0===l,d=new v(o,{title:void 0===r?o.params.dialog.progressTitle:r,cssClass:"dialog-progress",content:'\n              <div class="progressbar'+(s?"-infinite":"")+(i?" color-"+i:"")+'">\n                '+(s?"":"<span></span>")+"\n              </div>\n            ",destroyOnClose:t});return s||d.setProgress(l),d.open()}})}};if(e){if(o.prototype.modules&&o.prototype.modules[m.name])return;o.use(m),o.instance&&(o.instance.useModuleParams(m,o.instance.params),o.instance.useModule(m))}return m}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
