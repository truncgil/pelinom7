(function framework7ComponentLoader(e,t){void 0===t&&(t=!0);var r=e.$,a=e.utils,o=(e.getDevice,e.getSupport,e.Class),n=(e.Modal,e.ConstructorMethods),i=(e.ModalMethods,a.extend),l=a.deleteProps;function s(e){this.wrapped=e}function u(e){var t,r;function a(t,r){try{var n=e[t](r),i=n.value,l=i instanceof s;Promise.resolve(l?i.wrapped:i).then((function(e){l?a("return"===t?"return":"next",e):o(n.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(n,i){var l={key:e,arg:o,resolve:n,reject:i,next:null};r?r=r.next=l:(t=r=l,a(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"function"==typeof Symbol&&Symbol.asyncIterator&&(u.prototype[Symbol.asyncIterator]=function(){return this}),u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var d=function(e){var t,a;function o(t,a){var o;void 0===a&&(a={});var n=c(o=e.call(this,a,[t])||this),l=i({},t.params.gauge);n.useModulesParams(l),n.params=i(l,a);var s=n.params.el;if(!s)return n||c(o);var u=r(s);return 0===u.length?n||c(o):u[0].f7Gauge?u[0].f7Gauge||c(o):(i(n,{app:t,$el:u,el:u&&u[0]}),u[0].f7Gauge=n,n.useModules(),n.init(),n||c(o))}a=e,(t=o).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var n=o.prototype;return n.calcRadius=function(){var e=this.params;return e.size/2-e.borderWidth/2},n.calcBorderLength=function(){var e=this.calcRadius();return 2*Math.PI*e},n.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params,r=t.type,a=t.value,o=t.size,n=t.bgColor,i=t.borderBgColor,l=t.borderColor,s=t.borderWidth,u=t.valueText,c=t.valueTextColor,d=t.valueFontSize,f=t.valueFontWeight,g=t.labelText,h=t.labelTextColor,v=t.labelFontSize,p=t.labelFontWeight,x="semicircle"===r,m=e.calcRadius(),b=e.calcBorderLength(),y=Math.max(Math.min(a,1),0);return $jsx("svg",{class:"gauge-svg",width:o+"px",height:(x?o/2:o)+"px",viewBox:"0 0 "+o+" "+(x?o/2:o)},x&&$jsx("path",{class:"gauge-back-semi",d:"M"+(o-s/2)+","+o/2+" a1,1 0 0,0 -"+(o-s)+",0",stroke:i,"stroke-width":s,fill:n||"none"}),x&&$jsx("path",{class:"gauge-front-semi",d:"M"+(o-s/2)+","+o/2+" a1,1 0 0,0 -"+(o-s)+",0",stroke:l,"stroke-width":s,"stroke-dasharray":b/2,"stroke-dashoffset":b/2*(1+y),fill:i?"none":n||"none"}),!x&&i&&$jsx("circle",{class:"gauge-back-circle",stroke:i,"stroke-width":s,fill:n||"none",cx:o/2,cy:o/2,r:m}),!x&&$jsx("circle",{class:"gauge-front-circle",transform:"rotate(-90 "+o/2+" "+o/2+")",stroke:l,"stroke-width":s,"stroke-dasharray":b,"stroke-dashoffset":b*(1-y),fill:i?"none":n||"none",cx:o/2,cy:o/2,r:m}),u&&$jsx("text",{class:"gauge-value-text",x:"50%",y:x?"100%":"50%","font-weight":f,"font-size":d,fill:c,dy:x?g?-v-15:-5:0,"text-anchor":"middle","dominant-baseline":!x&&"middle"},u),g&&$jsx("text",{class:"gauge-label-text",x:"50%",y:x?"100%":"50%","font-weight":p,"font-size":v,fill:h,dy:x?-5:u?d/2+10:0,"text-anchor":"middle","dominant-baseline":!x&&"middle"},g))},n.update=function(e){void 0===e&&(e={});var t=this,r=t.params,a=t.$svgEl;if(Object.keys(e).forEach((function(t){void 0!==e[t]&&(r[t]=e[t])})),0===a.length)return t;var o=r.value,n=r.size,i=r.bgColor,l=r.borderBgColor,s=r.borderColor,u=r.borderWidth,c=r.valueText,d=r.valueTextColor,f=r.valueFontSize,g=r.valueFontWeight,h=r.labelText,v=r.labelTextColor,p=r.labelFontSize,x=r.labelFontWeight,m=t.calcBorderLength(),b=Math.max(Math.min(o,1),0),y=t.calcRadius(),k="semicircle"===r.type,w={width:n+"px",height:(k?n/2:n)+"px",viewBox:"0 0 "+n+" "+(k?n/2:n)};if(Object.keys(w).forEach((function(e){a.attr(e,w[e])})),k){var j={d:"M"+(n-u/2)+","+n/2+" a1,1 0 0,0 -"+(n-u)+",0",stroke:l,"stroke-width":u,fill:i||"none"},C={d:"M"+(n-u/2)+","+n/2+" a1,1 0 0,0 -"+(n-u)+",0",stroke:s,"stroke-width":u,"stroke-dasharray":m/2,"stroke-dashoffset":m/2*(1+b),fill:l?"none":i||"none"};Object.keys(j).forEach((function(e){a.find(".gauge-back-semi").attr(e,j[e])})),Object.keys(C).forEach((function(e){a.find(".gauge-front-semi").attr(e,C[e])}))}else{var M={stroke:l,"stroke-width":u,fill:i||"none",cx:n/2,cy:n/2,r:y},$={transform:"rotate(-90 "+n/2+" "+n/2+")",stroke:s,"stroke-width":u,"stroke-dasharray":m,"stroke-dashoffset":m*(1-b),fill:l?"none":i||"none",cx:n/2,cy:n/2,r:y};Object.keys(M).forEach((function(e){a.find(".gauge-back-circle").attr(e,M[e])})),Object.keys($).forEach((function(e){a.find(".gauge-front-circle").attr(e,$[e])}))}if(c){if(!a.find(".gauge-value-text").length){var E=document.createElementNS("http://www.w3.org/2000/svg","text");E.classList.add("gauge-value-text"),a.append(E)}var z={x:"50%",y:k?"100%":"50%","font-weight":g,"font-size":f,fill:d,dy:k?h?-p-15:-5:0,"text-anchor":"middle","dominant-baseline":!k&&"middle"};Object.keys(z).forEach((function(e){a.find(".gauge-value-text").attr(e,z[e])})),a.find(".gauge-value-text").text(c)}else a.find(".gauge-value-text").remove();if(h){if(!a.find(".gauge-label-text").length){var G=document.createElementNS("http://www.w3.org/2000/svg","text");G.classList.add("gauge-label-text"),a.append(G)}var S={x:"50%",y:k?"100%":"50%","font-weight":x,"font-size":p,fill:v,dy:k?-5:c?f/2+10:0,"text-anchor":"middle","dominant-baseline":!k&&"middle"};Object.keys(S).forEach((function(e){a.find(".gauge-label-text").attr(e,S[e])})),a.find(".gauge-label-text").text(h)}else a.find(".gauge-label-text").remove();return t},n.init=function(){var e=this,t=r(e.render()).eq(0);return t.f7Gauge=e,i(e,{$svgEl:t,svgEl:t&&t[0]}),e.$el.append(t),e},n.destroy=function(){var e=this;e.$el&&!e.destroyed&&(e.$el.trigger("gauge:beforedestroy"),e.emit("local::beforeDestroy selfBeforeDestroy",e),e.$svgEl.remove(),delete e.$el[0].f7Gauge,l(e),e.destroyed=!0)},o}(o),f={name:"gauge",static:{Gauge:d},create:function(){var e=this;e.gauge=n({defaultSelector:".gauge",constructor:d,app:e,domProp:"f7Gauge"}),e.gauge.update=function(t,a){if(0!==r(t).length){var o=e.gauge.get(t);if(o)return o.update(a),o}}},params:{gauge:{el:null,type:"circle",value:0,size:200,bgColor:"transparent",borderBgColor:"#eeeeee",borderColor:"#000000",borderWidth:10,valueText:null,valueTextColor:"#000000",valueFontSize:31,valueFontWeight:500,labelText:null,labelTextColor:"#888888",labelFontSize:14,labelFontWeight:400}},on:{tabMounted:function(e){var t=this;r(e).find(".gauge-init").each((function(e){t.gauge.create(i({el:e},r(e).dataset()||{}))}))},tabBeforeRemove:function(e){r(e).find(".gauge-init").each((function(e){e.f7Gauge&&e.f7Gauge.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".gauge-init").each((function(e){t.gauge.create(i({el:e},r(e).dataset()||{}))}))},pageBeforeRemove:function(e){e.$el.find(".gauge-init").each((function(e){e.f7Gauge&&e.f7Gauge.destroy()}))}},vnode:{"gauge-init":{insert:function(e){var t=e.elm;this.gauge.create(i({el:t},r(t).dataset()||{}))},destroy:function(e){var t=e.elm;t.f7Gauge&&t.f7Gauge.destroy()}}}};if(t){if(e.prototype.modules&&e.prototype.modules[f.name])return;e.use(f),e.instance&&(e.instance.useModuleParams(f,e.instance.params),e.instance.useModule(f))}return f}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
