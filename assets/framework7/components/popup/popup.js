(function framework7ComponentLoader(o,e){void 0===e&&(e=!0);var t=o.$,p=o.utils,s=o.getDevice,a=o.getSupport,r=(o.Class,o.Modal),n=(o.ConstructorMethods,o.ModalMethods),i=p.extend,l=p.now,u=p.nextTick;function c(o){this.wrapped=o}function d(o){var e,t;function p(e,t){try{var a=o[e](t),r=a.value,n=r instanceof c;Promise.resolve(n?r.wrapped:r).then((function(o){n?p("return"===e?"return":"next",o):s(a.done?"return":"normal",o)}),(function(o){p("throw",o)}))}catch(o){s("throw",o)}}function s(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?p(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise((function(a,r){var n={key:o,arg:s,resolve:a,reject:r,next:null};t?t=t.next=n:(e=t=n,p(o,s))}))},"function"!=typeof o.return&&(this.return=void 0)}function h(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}"function"==typeof Symbol&&Symbol.asyncIterator&&(d.prototype[Symbol.asyncIterator]=function(){return this}),d.prototype.next=function(o){return this._invoke("next",o)},d.prototype.throw=function(o){return this._invoke("throw",o)},d.prototype.return=function(o){return this._invoke("return",o)};var f=function(o){var e,p;function r(e,p){var r,n,c,d,f,m=i({on:{}},e.params.popup,p),v=h(r=o.call(this,e,m)||this),w=a(),y=s();if(v.params=m,(n=v.params.el?t(v.params.el).eq(0):t(v.params.content).filter((function(o){return 1===o.nodeType})).eq(0))&&n.length>0&&n[0].f7Modal)return n[0].f7Modal||h(r);if(0===n.length)return v.destroy()||h(r);function g(o){var e=o.target,p=t(e);if(!(!y.desktop&&y.cordova&&(window.Keyboard&&window.Keyboard.isVisible||window.cordova.plugins&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.isVisible))&&0===p.closest(v.el).length&&v.params&&v.params.closeByBackdropClick&&v.params.backdrop&&v.backdropEl&&v.backdropEl===e){var s=!0;v.$el.nextAll(".popup.modal-in").each((function(o){var e=o.f7Modal;e&&e.params.closeByBackdropClick&&e.params.backdrop&&e.backdropEl===v.backdropEl&&(s=!1)})),s&&v.close()}}function b(o){27===o.keyCode&&v.params.closeOnEscape&&v.close()}function k(o){return(e.height-2*o)/e.height}v.params.backdrop&&v.params.backdropEl?c=t(v.params.backdropEl):v.params.backdrop&&0===(c=v.$containerEl.children(".popup-backdrop")).length&&(c=t('<div class="popup-backdrop"></div>'),v.$containerEl.append(c)),i(v,{app:e,push:n.hasClass("popup-push")||v.params.push,$el:n,el:n[0],$backdropEl:c,backdropEl:c&&c[0],type:"popup",$htmlEl:t("html")}),v.params.push&&n.addClass("popup-push");var C,E,$,x,M,T,S,P,B,_,H,A=!0,O=!1,q=!1;function D(o){!O&&A&&v.params.swipeToClose&&(v.params.swipeHandler&&0===t(o.target).closest(v.params.swipeHandler).length||(O=!0,q=!1,C={x:"touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,y:"touchstart"===o.type?o.targetTouches[0].pageY:o.pageY},x=l(),$=void 0,v.params.swipeHandler||"touchstart"!==o.type||(T=t(o.target).closest(".page-content")[0])))}function K(o){if(O){if(E={x:"touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,y:"touchmove"===o.type?o.targetTouches[0].pageY:o.pageY},void 0===$&&($=!!($||Math.abs(E.x-C.x)>Math.abs(E.y-C.y))),$)return O=!1,void(q=!1);M=C.y-E.y,f&&d&&M>0&&(M=0);var t=M<0?"to-bottom":"to-top";if(n.transition(0),"string"==typeof v.params.swipeToClose&&t!==v.params.swipeToClose)return n.transform(""),void n.transition("");if(q)v.emit("local::swipeMove popupSwipeMove",v),v.$el.trigger("popup:swipemove");else{if(f&&d&&(_=n[0].offsetHeight,0===(H=n.prevAll(".popup.modal-in").eq(0)).length&&(H=e.$el.children(".view, .views"))),T&&(S=T.scrollTop,B=T.scrollHeight,P=T.offsetHeight,!(B===P||"to-bottom"===t&&0===S||"to-top"===t&&S===B-P)))return n.transform(""),n.transition(""),O=!1,void(q=!1);q=!0,v.emit("local::swipeStart popupSwipeStart",v),v.$el.trigger("popup:swipestart")}if(o.preventDefault(),f&&d){var p=1-Math.abs(M/_),s=1-(1-k(d))*p;H.hasClass("popup")?H.hasClass("popup-push")?H.transition(0).forEach((function(o){o.style.setProperty("transform","translate3d(0, calc(-1 * "+p+" * (var(--f7-popup-push-offset) + 10px)) , 0px) scale("+s+")","important")})):H.transition(0).forEach((function(o){o.style.setProperty("transform","translate3d(0, 0px , 0px) scale("+s+")","important")})):H.transition(0).forEach((function(o){o.style.setProperty("transform","translate3d(0,0,0) scale("+s+")","important")}))}n.transition(0).transform("translate3d(0,"+-M+"px,0)")}}function X(){if(O=!1,q){v.emit("local::swipeEnd popupSwipeEnd",v),v.$el.trigger("popup:swipeend"),q=!1,A=!1,n.transition(""),f&&d&&H.transition("").transform("");var o=M<=0?"to-bottom":"to-top";if("string"==typeof v.params.swipeToClose&&o!==v.params.swipeToClose)return n.transform(""),void(A=!0);var e=Math.abs(M),t=(new Date).getTime()-x;t<300&&e>20||t>=300&&e>100?u((function(){"to-bottom"===o?n.addClass("swipe-close-to-bottom"):n.addClass("swipe-close-to-top"),n.transform(""),v.emit("local::swipeclose popupSwipeClose",v),v.$el.trigger("popup:swipeclose"),v.close(),A=!0})):(A=!0,n.transform(""))}}var Y,j=!!w.passiveListener&&{passive:!0};v.params.swipeToClose&&(n.on(e.touchEvents.start,D,j),e.on("touchmove",K),e.on("touchend:passive",X),v.once("popupDestroy",(function(){n.off(e.touchEvents.start,D,j),e.off("touchmove",K),e.off("touchend:passive",X)})));var z=function(){var o=f;v.push&&(f=v.push&&(e.width<630||e.height<630||n.hasClass("popup-tablet-fullscreen"))),f&&!o?I():f&&o?v.$htmlEl[0].style.setProperty("--f7-popup-push-scale",k(d)):!f&&o&&(v.$htmlEl.removeClass("with-modal-popup-push"),v.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))},I=function(){e.off("resize",z),v.push&&(f=v.push&&(e.width<630||e.height<630||n.hasClass("popup-tablet-fullscreen"))),f&&(d=parseInt(n.css("--f7-popup-push-offset"),10),Number.isNaN(d)&&(d=0),d&&(n.addClass("popup-push"),v.$htmlEl.addClass("with-modal-popup-push"),v.$htmlEl[0].style.setProperty("--f7-popup-push-scale",k(d)))),e.on("resize",z)};return v.on("open",(function(){Y=!1,v.params.closeOnEscape&&t(document).on("keydown",b),n.prevAll(".popup.modal-in").addClass("popup-behind"),I()})),v.on("opened",(function(){n.removeClass("swipe-close-to-bottom swipe-close-to-top"),v.params.closeByBackdropClick&&e.on("click",g)})),v.on("close",(function(){Y=v.$el.prevAll(".popup-push.modal-in").length>0,v.params.closeOnEscape&&t(document).off("keydown",b),v.params.closeByBackdropClick&&e.off("click",g),n.prevAll(".popup.modal-in").eq(0).removeClass("popup-behind"),f&&d&&!Y&&(v.$htmlEl.removeClass("with-modal-popup-push"),v.$htmlEl.addClass("with-modal-popup-push-closing")),e.off("resize",z)})),v.on("closed",(function(){n.removeClass("popup-behind"),f&&d&&!Y&&(v.$htmlEl.removeClass("with-modal-popup-push-closing"),v.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))})),n[0].f7Modal=v,v||h(r)}return p=o,(e=r).prototype=Object.create(p.prototype),e.prototype.constructor=e,e.__proto__=p,r}(r),m={name:"popup",params:{popup:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeOnEscape:!1,swipeToClose:!1,swipeHandler:null,push:!1,containerEl:null}},static:{Popup:f},create:function(){this.popup=n({app:this,constructor:f,defaultSelector:".popup.modal-in",parentSelector:".popup"})},clicks:{".popup-open":function(o,e){void 0===e&&(e={});this.popup.open(e.popup,e.animate,o)},".popup-close":function(o,e){void 0===e&&(e={});this.popup.close(e.popup,e.animate,o)}}};if(e){if(o.prototype.modules&&o.prototype.modules[m.name])return;o.use(m),o.instance&&(o.instance.useModuleParams(m,o.instance.params),o.instance.useModule(m))}return m}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
