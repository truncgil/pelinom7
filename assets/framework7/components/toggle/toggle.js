(function framework7ComponentLoader(e,t){void 0===t&&(t=!0);var o=e.$,n=e.utils,r=(e.getDevice,e.getSupport),a=e.Class,i=(e.Modal,e.ConstructorMethods),s=(e.ModalMethods,n.extend),c=n.now,u=n.nextTick,l=n.deleteProps;function g(e){this.wrapped=e}function f(e){var t,o;function n(t,o){try{var a=e[t](o),i=a.value,s=i instanceof g;Promise.resolve(s?i.wrapped:i).then((function(e){s?n("return"===t?"return":"next",e):r(a.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):o=null}this._invoke=function(e,r){return new Promise((function(a,i){var s={key:e,arg:r,resolve:a,reject:i,next:null};o?o=o.next=s:(t=o=s,n(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"function"==typeof Symbol&&Symbol.asyncIterator&&(f.prototype[Symbol.asyncIterator]=function(){return this}),f.prototype.next=function(e){return this._invoke("next",e)},f.prototype.throw=function(e){return this._invoke("throw",e)},f.prototype.return=function(e){return this._invoke("return",e)};var d=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var i=h(a=e.call(this,n,[t])||this),l=r(),g={};i.useModulesParams(g),i.params=s(g,n);var f=i.params.el;if(!f)return i||h(a);var d=o(f);if(0===d.length)return i||h(a);if(d[0].f7Toggle)return d[0].f7Toggle||h(a);var p,v=d.children('input[type="checkbox"]');s(i,{app:t,$el:d,el:d[0],$inputEl:v,inputEl:v[0],disabled:d.hasClass("disabled")||v.hasClass("disabled")||v.attr("disabled")||v[0].disabled}),Object.defineProperty(i,"checked",{enumerable:!0,configurable:!0,set:function(e){i&&void 0!==i.$inputEl&&i.checked!==e&&(v[0].checked=e,i.$inputEl.trigger("change"))},get:function(){return v[0].checked}}),d[0].f7Toggle=i;var y,m,b,k,T,w={};function x(e){p||i.disabled||(w.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,w.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,m=0,p=!0,y=void 0,k=c(),T=i.checked,b=d[0].offsetWidth,u((function(){p&&d.addClass("toggle-active-state")})))}function E(e){if(p&&!i.disabled){var o,n="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,a=t.rtl?-1:1;if(void 0===y&&(y=!!(y||Math.abs(r-w.y)>Math.abs(n-w.x))),y)p=!1;else e.preventDefault(),(m=n-w.x)*a<0&&Math.abs(m)>b/3&&T&&(o=!0),m*a>0&&Math.abs(m)>b/3&&!T&&(o=!0),o&&(w.x=n,i.checked=!T,T=!T)}}function M(){if(!p||i.disabled)return y&&d.removeClass("toggle-active-state"),void(p=!1);var e,o=t.rtl?-1:1;p=!1,d.removeClass("toggle-active-state"),c()-k<300&&(m*o<0&&T&&(e=!0),m*o>0&&!T&&(e=!0),e&&(i.checked=!T))}function $(){i.$el.trigger("toggle:change"),i.emit("local::change toggleChange",i)}return i.attachEvents=function(){var e=!!l.passiveListener&&{passive:!0};d.on(t.touchEvents.start,x,e),t.on("touchmove",E),t.on("touchend:passive",M),i.$inputEl.on("change",$)},i.detachEvents=function(){var e=!!l.passiveListener&&{passive:!0};d.off(t.touchEvents.start,x,e),t.off("touchmove",E),t.off("touchend:passive",M),i.$inputEl.off("change",$)},i.useModules(),i.init(),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.toggle=function(){this.checked=!this.checked},i.init=function(){this.attachEvents()},i.destroy=function(){var e=this;e.$el.trigger("toggle:beforedestroy"),e.emit("local::beforeDestroy toggleBeforeDestroy",e),delete e.$el[0].f7Toggle,e.detachEvents(),l(e),e=null},a}(a),p={name:"toggle",create:function(){this.toggle=i({defaultSelector:".toggle",constructor:d,app:this,domProp:"f7Toggle"})},static:{Toggle:d},on:{tabMounted:function(e){var t=this;o(e).find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},tabBeforeRemove:function(e){o(e).find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},pageBeforeRemove:function(e){e.$el.find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))}},vnode:{"toggle-init":{insert:function(e){var t=e.elm;this.toggle.create({el:t})},destroy:function(e){var t=e.elm;t.f7Toggle&&t.f7Toggle.destroy()}}}};if(t){if(e.prototype.modules&&e.prototype.modules[p.name])return;e.use(p),e.instance&&(e.instance.useModuleParams(p,e.instance.params),e.instance.useModule(p))}return p}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
